{"ast":null,"code":"import labourApi from \"../DAL/labour/labour_api\";\nimport handle401 from \"./handle401\";\nconst initialState = {\n  isFetching: false,\n  labourList: []\n};\nconst TOGGLE_FETCHING = \"LABOUR/TOGGLE_FETCHING\";\nconst SET_LIST = \"LABOUR/TOGGLE_SET_LIST\";\n\nconst labourReducer = (state = initialState, action) => {\n  let stateCopy = { ...state\n  };\n\n  switch (action.type) {\n    case TOGGLE_FETCHING:\n      {\n        stateCopy.isFetching = !stateCopy.isFetching;\n        break;\n      }\n\n    case SET_LIST:\n      {\n        stateCopy.labourList = action.list;\n        break;\n      }\n  }\n\n  return stateCopy;\n};\n\nconst toggleFetchAC = () => {\n  return {\n    type: TOGGLE_FETCHING\n  };\n};\n\nconst setListAC = list => {\n  return {\n    type: SET_LIST,\n    list: list\n  };\n};\n\nconst getListThunk = () => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    labourApi.getLabourList().then(data => {\n      dispatch(setListAC(data));\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      handle401(err, dispatch);\n    });\n  };\n};\n\nconst createLabourThunk = labour => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    labourApi.createLabour(labour).then(data => {\n      dispatch(getListThunk());\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      handle401(err, dispatch);\n    });\n  };\n};\n\nconst updateLabourThunk = labour => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    labourApi.updateLabour(labour).then(data => {\n      dispatch(getListThunk());\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      handle401(err, dispatch);\n    });\n  };\n};\n\nexport { labourReducer, getListThunk, createLabourThunk, updateLabourThunk };","map":{"version":3,"sources":["/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/reducers/labourReducer.js"],"names":["labourApi","handle401","initialState","isFetching","labourList","TOGGLE_FETCHING","SET_LIST","labourReducer","state","action","stateCopy","type","list","toggleFetchAC","setListAC","getListThunk","dispatch","getLabourList","then","data","catch","err","createLabourThunk","labour","createLabour","updateLabourThunk","updateLabour"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,UAAU,EAAG,KADI;AAEjBC,EAAAA,UAAU,EAAG;AAFI,CAArB;AAKA,MAAMC,eAAe,GAAG,wBAAxB;AACA,MAAMC,QAAQ,GAAG,wBAAjB;;AAEA,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AACpD,MAAIC,SAAS,GAAG,EAAC,GAAGF;AAAJ,GAAhB;;AACA,UAAQC,MAAM,CAACE,IAAf;AACI,SAAKN,eAAL;AAAuB;AACnBK,QAAAA,SAAS,CAACP,UAAV,GAAuB,CAACO,SAAS,CAACP,UAAlC;AACA;AACH;;AAED,SAAKG,QAAL;AAAgB;AACZI,QAAAA,SAAS,CAACN,UAAV,GAAuBK,MAAM,CAACG,IAA9B;AACA;AACH;AATL;;AAWA,SAAOF,SAAP;AACH,CAdD;;AAgBA,MAAMG,aAAa,GAAG,MAAM;AACxB,SAAO;AACHF,IAAAA,IAAI,EAAGN;AADJ,GAAP;AAGH,CAJD;;AAMA,MAAMS,SAAS,GAAIF,IAAD,IAAU;AACxB,SAAO;AACHD,IAAAA,IAAI,EAAGL,QADJ;AAEHM,IAAAA,IAAI,EAAGA;AAFJ,GAAP;AAIH,CALD;;AAOA,MAAMG,YAAY,GAAG,MAAM;AACvB,SAAQC,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACH,aAAa,EAAd,CAAR;AACAb,IAAAA,SAAS,CAACiB,aAAV,GACKC,IADL,CACWC,IAAD,IAAU;AACZH,MAAAA,QAAQ,CAACF,SAAS,CAACK,IAAD,CAAV,CAAR;AACAH,MAAAA,QAAQ,CAACH,aAAa,EAAd,CAAR;AACH,KAJL,EAKKO,KALL,CAKWC,GAAG,IAAI;AACVpB,MAAAA,SAAS,CAACoB,GAAD,EAAML,QAAN,CAAT;AACH,KAPL;AAQH,GAVD;AAWH,CAZD;;AAcA,MAAMM,iBAAiB,GAAIC,MAAD,IAAY;AAClC,SAAQP,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACH,aAAa,EAAd,CAAR;AACAb,IAAAA,SAAS,CAACwB,YAAV,CAAuBD,MAAvB,EACKL,IADL,CACWC,IAAD,IAAU;AACZH,MAAAA,QAAQ,CAACD,YAAY,EAAb,CAAR;AACAC,MAAAA,QAAQ,CAACH,aAAa,EAAd,CAAR;AACH,KAJL,EAKKO,KALL,CAKWC,GAAG,IAAI;AACVpB,MAAAA,SAAS,CAACoB,GAAD,EAAML,QAAN,CAAT;AACH,KAPL;AAQH,GAVD;AAWH,CAZD;;AAcA,MAAMS,iBAAiB,GAAIF,MAAD,IAAY;AAClC,SAAQP,QAAD,IAAc;AACjBA,IAAAA,QAAQ,CAACH,aAAa,EAAd,CAAR;AACAb,IAAAA,SAAS,CAAC0B,YAAV,CAAuBH,MAAvB,EACKL,IADL,CACWC,IAAD,IAAU;AACZH,MAAAA,QAAQ,CAACD,YAAY,EAAb,CAAR;AACAC,MAAAA,QAAQ,CAACH,aAAa,EAAd,CAAR;AACH,KAJL,EAKKO,KALL,CAKWC,GAAG,IAAI;AACVpB,MAAAA,SAAS,CAACoB,GAAD,EAAML,QAAN,CAAT;AACH,KAPL;AAQH,GAVD;AAWH,CAZD;;AAcA,SAAQT,aAAR,EAAuBQ,YAAvB,EAAqCO,iBAArC,EAAwDG,iBAAxD","sourcesContent":["import labourApi from \"../DAL/labour/labour_api\";\nimport handle401 from \"./handle401\";\n\nconst initialState = {\n    isFetching : false,\n    labourList : []\n}\n\nconst TOGGLE_FETCHING = \"LABOUR/TOGGLE_FETCHING\";\nconst SET_LIST = \"LABOUR/TOGGLE_SET_LIST\";\n\nconst labourReducer = (state = initialState, action) => {\n    let stateCopy = {...state};\n    switch (action.type) {\n        case TOGGLE_FETCHING : {\n            stateCopy.isFetching = !stateCopy.isFetching;\n            break;\n        }\n\n        case SET_LIST : {\n            stateCopy.labourList = action.list;\n            break;\n        }\n    }\n    return stateCopy;\n}\n\nconst toggleFetchAC = () => {\n    return {\n        type : TOGGLE_FETCHING\n    }\n}\n\nconst setListAC = (list) => {\n    return {\n        type : SET_LIST,\n        list : list\n    }\n}\n\nconst getListThunk = () => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        labourApi.getLabourList()\n            .then((data) => {\n                dispatch(setListAC(data));\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nconst createLabourThunk = (labour) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        labourApi.createLabour(labour)\n            .then((data) => {\n                dispatch(getListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch)\n            });\n    }\n}\n\nconst updateLabourThunk = (labour) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        labourApi.updateLabour(labour)\n            .then((data) => {\n                dispatch(getListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch)\n            });\n    }\n}\n\nexport {labourReducer, getListThunk, createLabourThunk, updateLabourThunk}"]},"metadata":{},"sourceType":"module"}