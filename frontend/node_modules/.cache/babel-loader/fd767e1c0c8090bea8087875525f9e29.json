{"ast":null,"code":"import _objectSpread from\"/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import komax_seal_api from\"../DAL/komax_seal/komax_seal_api\";import handle401 from\"./handle401\";import{logoutThunk}from\"./authReducer\";var initialState={isFetching:false,sealsList:[]};var TOGGLE_FETCHING=\"SEAL/TOGGLE_FETCHING\";var SET_LIST=\"SEAL/TOGGLE_SET_LIST\";var sealReducer=function sealReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var stateCopy=_objectSpread({},state);switch(action.type){case TOGGLE_FETCHING:{stateCopy.isFetching=!stateCopy.isFetching;break;}case SET_LIST:{stateCopy.sealsList=action.list;break;}}return stateCopy;};var toggleFetchAC=function toggleFetchAC(){return{type:TOGGLE_FETCHING};};var setListAC=function setListAC(list){return{type:SET_LIST,list:list};};var getSealsListThunk=function getSealsListThunk(){return function(dispatch){dispatch(toggleFetchAC());komax_seal_api.getSealsList().then(function(data){dispatch(setListAC(data));dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};var updateSealThunk=function updateSealThunk(seal){return function(dispatch){dispatch(toggleFetchAC());komax_seal_api.updateSeal(seal).then(function(data){dispatch(getSealsListThunk());dispatch(toggleFetchAC());}).catch(function(err){dispatch(logoutThunk());});};};var createSealThunk=function createSealThunk(seal){return function(dispatch){dispatch(toggleFetchAC());komax_seal_api.createSeal(seal).then(function(data){dispatch(getSealsListThunk());dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};var deleteSealThunk=function deleteSealThunk(seal){return function(dispatch){dispatch(toggleFetchAC());komax_seal_api.deleteSeal(seal).then(function(data){dispatch(getSealsListThunk());dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};export{getSealsListThunk,updateSealThunk,sealReducer,createSealThunk,deleteSealThunk};","map":{"version":3,"sources":["/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/src/reducers/sealReducer.js"],"names":["komax_seal_api","handle401","logoutThunk","initialState","isFetching","sealsList","TOGGLE_FETCHING","SET_LIST","sealReducer","state","action","stateCopy","type","list","toggleFetchAC","setListAC","getSealsListThunk","dispatch","getSealsList","then","data","catch","err","updateSealThunk","seal","updateSeal","createSealThunk","createSeal","deleteSealThunk","deleteSeal"],"mappings":"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","sourcesContent":["import komax_seal_api from \"../DAL/komax_seal/komax_seal_api\";\nimport handle401 from \"./handle401\";\nimport {logoutThunk} from \"./authReducer\";\n\nconst initialState = {\n    isFetching : false,\n    sealsList : []\n}\n\nconst TOGGLE_FETCHING = \"SEAL/TOGGLE_FETCHING\";\nconst SET_LIST = \"SEAL/TOGGLE_SET_LIST\";\n\nconst sealReducer = (state = initialState, action) => {\n    let stateCopy = {...state};\n    switch (action.type) {\n        case TOGGLE_FETCHING : {\n            stateCopy.isFetching = !stateCopy.isFetching;\n            break;\n        }\n\n        case SET_LIST : {\n            stateCopy.sealsList = action.list;\n            break;\n        }\n    }\n    return stateCopy;\n}\n\nconst toggleFetchAC = () => {\n    return {\n        type : TOGGLE_FETCHING\n    }\n}\n\nconst setListAC = (list) => {\n    return {\n        type : SET_LIST,\n        list : list\n    }\n}\n\nconst getSealsListThunk = () => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.getSealsList()\n            .then((data) => {\n                dispatch(setListAC(data));\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nconst updateSealThunk = (seal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.updateSeal(seal)\n            .then((data) => {\n                dispatch(getSealsListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                dispatch(logoutThunk())\n            })\n    }\n}\n\nconst createSealThunk = (seal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.createSeal(seal)\n            .then((data) => {\n                dispatch(getSealsListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nconst deleteSealThunk = (seal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.deleteSeal(seal)\n            .then((data) => {\n                dispatch(getSealsListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nexport {getSealsListThunk, updateSealThunk, sealReducer, createSealThunk, deleteSealThunk}"]},"metadata":{},"sourceType":"module"}