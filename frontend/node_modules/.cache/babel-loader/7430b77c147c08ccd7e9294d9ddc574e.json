{"ast":null,"code":"import _slicedToArray from\"/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import SealsPage from\"./SealsPage\";import auth from\"../AuthHOC/authHOC\";import{connect}from\"react-redux\";import SealSelector from\"../../selectors/sealSelector\";import{deleteSealThunk,getSealsListThunk,updateSealThunk}from\"../../reducers/sealReducer\";import classes from\"./SealsPage.module.css\";import Preloader from\"../common/Preloader/Preloader\";import IconButton from\"../common/IconButton/IconButton\";import{FormattedMessage}from\"react-intl\";var SealsContainer=function SealsContainer(props){useEffect(function(){props.getSeals();},props.seals.length);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),selectedSeal=_useState2[0],setSelectedSeal=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isModalOpen=_useState4[0],setModalOpen=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isCreateOpen=_useState6[0],setCreateOpen=_useState6[1];var openCreate=function openCreate(){setCreateOpen(true);};var closeCreate=function closeCreate(){setCreateOpen(false);};var closeModal=function closeModal(){setModalOpen(false);};var renderedSeals=props.seals.map(function(seal){var select=function select(){setSelectedSeal(seal);setModalOpen(true);};var del=function del(e){e.stopPropagation();props.deleteSeal(seal);};return/*#__PURE__*/React.createElement(\"div\",{className:classes.row,onClick:select},/*#__PURE__*/React.createElement(\"div\",{className:classes.data},seal.seal_name),/*#__PURE__*/React.createElement(\"div\",{className:classes.data},seal.seal_available?\"+\":\"-\"),/*#__PURE__*/React.createElement(IconButton,{icon:['fas','trash'],class:classes.btn,click:del}));});var heading=/*#__PURE__*/React.createElement(\"div\",{className:classes.heading_row},/*#__PURE__*/React.createElement(\"div\",{className:classes.data},/*#__PURE__*/React.createElement(\"b\",{className:classes.heading_text},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"seal_name_label\"}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.data},/*#__PURE__*/React.createElement(\"b\",{className:classes.heading_text},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"terminal.material_avaliable_label\"}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.data},/*#__PURE__*/React.createElement(\"b\",{className:classes.heading_text},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"terminal.delete_label\"}))));return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(SealsPage,{list:renderedSeals,isModalOpen:isModalOpen,isCreateOpen:isCreateOpen,close:closeModal,selectedSeal:selectedSeal,heading:heading,updateSeal:props.updateSeal,openCreate:openCreate,closeCreate:closeCreate}));};var mapStateToProps=function mapStateToProps(state){return{seals:SealSelector.getList(state),isFetching:SealSelector.getFetching(state)};};var mapDispatchProps=function mapDispatchProps(dispatch){return{getSeals:function getSeals(){dispatch(getSealsListThunk());},updateSeal:function updateSeal(seal){dispatch(updateSealThunk(seal));},deleteSeal:function deleteSeal(seal){dispatch(deleteSealThunk(seal));}};};export default auth(connect(mapStateToProps,mapDispatchProps)(SealsContainer));","map":{"version":3,"sources":["/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/src/comp/Seals/SealsContainer.js"],"names":["React","useEffect","useState","SealsPage","auth","connect","SealSelector","deleteSealThunk","getSealsListThunk","updateSealThunk","classes","Preloader","IconButton","FormattedMessage","SealsContainer","props","getSeals","seals","length","selectedSeal","setSelectedSeal","isModalOpen","setModalOpen","isCreateOpen","setCreateOpen","openCreate","closeCreate","closeModal","renderedSeals","map","seal","select","del","e","stopPropagation","deleteSeal","row","data","seal_name","seal_available","btn","heading","heading_row","heading_text","updateSeal","mapStateToProps","state","getList","isFetching","getFetching","mapDispatchProps","dispatch"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport SealsPage from \"./SealsPage\";\nimport auth from \"../AuthHOC/authHOC\";\nimport {connect} from \"react-redux\";\nimport SealSelector from \"../../selectors/sealSelector\";\nimport {deleteSealThunk, getSealsListThunk, updateSealThunk} from \"../../reducers/sealReducer\";\nimport classes from \"./SealsPage.module.css\"\nimport Preloader from \"../common/Preloader/Preloader\";\nimport IconButton from \"../common/IconButton/IconButton\";\nimport {FormattedMessage} from \"react-intl\";\n\nlet SealsContainer = (props) => {\n    useEffect(() => {\n        props.getSeals();\n    }, props.seals.length);\n\n    let [selectedSeal, setSelectedSeal] = useState({});\n    let [isModalOpen, setModalOpen] = useState(false);\n    let [isCreateOpen, setCreateOpen] = useState(false);\n\n    let openCreate = () => {\n        setCreateOpen(true);\n    }\n\n    let closeCreate = () => {\n        setCreateOpen(false);\n    }\n\n    let closeModal = () => {\n        setModalOpen(false);\n    }\n\n    let renderedSeals = props.seals.map(seal => {\n        let select = () => {\n            setSelectedSeal(seal);\n            setModalOpen(true);\n        }\n\n        let del = (e) => {\n            e.stopPropagation();\n            props.deleteSeal(seal);\n        }\n\n        return (\n            <div className={classes.row} onClick={select}>\n                <div className={classes.data}>\n                    {seal.seal_name}\n                </div>\n                <div className={classes.data}>\n                    {seal.seal_available ? \"+\" : \"-\"}\n                </div>\n                <IconButton icon={['fas', 'trash']} class={classes.btn} click={del}/>\n            </div>\n        )\n    })\n\n    let heading = (\n        <div className={classes.heading_row}>\n            <div className={classes.data}>\n                <b className={classes.heading_text}><FormattedMessage id={\"seal_name_label\"}/></b>\n            </div>\n            <div className={classes.data}>\n                <b className={classes.heading_text}><FormattedMessage id={\"terminal.material_avaliable_label\"}/></b>\n            </div>\n            <div className={classes.data}>\n                <b className={classes.heading_text}><FormattedMessage id={\"terminal.delete_label\"}/></b>\n            </div>\n        </div>\n    )\n\n    return (\n        <>\n            <SealsPage\n                list={renderedSeals}\n                isModalOpen={isModalOpen}\n                isCreateOpen={isCreateOpen}\n                close={closeModal}\n                selectedSeal={selectedSeal}\n                heading={heading}\n                updateSeal={props.updateSeal}\n                openCreate={openCreate}\n                closeCreate={closeCreate}\n            />\n        </>\n    )\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        seals : SealSelector.getList(state),\n        isFetching : SealSelector.getFetching(state)\n    }\n}\n\nlet mapDispatchProps = (dispatch) => {\n    return {\n        getSeals : () => {\n            dispatch(getSealsListThunk())\n        },\n\n        updateSeal : (seal) => {\n            dispatch(updateSealThunk(seal))\n        },\n\n        deleteSeal : (seal) => {\n            dispatch(deleteSealThunk(seal))\n        }\n    }\n}\n\nexport default auth(connect(mapStateToProps, mapDispatchProps)(SealsContainer));"]},"metadata":{},"sourceType":"module"}