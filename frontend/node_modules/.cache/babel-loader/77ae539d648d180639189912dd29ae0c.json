{"ast":null,"code":"var _jsxFileName = \"/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/comp/Tasks/TaskItem/RemoveBtn/RemoveBtn.js\";\nimport React from \"react\";\nimport classes from \"./RemoveBtn.module.css\";\nimport BASE_URL from \"../../../../DAL/getBaseUrl\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport task_api from \"../../../../DAL/task/task_api\";\nimport handle401 from \"../../../../reducers/handle401\";\n\nlet RemoveBtn = props => {\n  let stopTask = () => {\n    let path = BASE_URL + \"api/v1/\" + props.task_name + \"/stop\" + (props.komax ? \"/\" + props.komax + \"/\" : \"\");\n    let token = window.localStorage.getItem('token');\n    let req = new XMLHttpRequest();\n    req.open('POST', path);\n    req.setRequestHeader(\"Authorization\", `Token ${token}`);\n    req.send(JSON.stringify({\n      task_name: props.task_name\n    }));\n    req.onload = alert(\"Задание \" + props.task_name + \" скоро будет остановлено\");\n  };\n\n  let deleteTask = () => {\n    props.delete(props);\n  };\n\n  let isMaster = props.role.toString().toLowerCase() === \"master\";\n  let delBtn = /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.btn,\n    onClick: deleteTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: ['fas', 'trash-alt'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 25\n    }\n  }));\n  let stopBtn = /*#__PURE__*/React.createElement(\"button\", {\n    className: classes.btn,\n    onClick: stopTask,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: ['fas', 'stop'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 25\n    }\n  }));\n  return /*#__PURE__*/React.createElement(React.Fragment, null, props.status === 1 ? delBtn : props.status === 2 || props.status === 3 ? stopBtn : delBtn);\n};\n\nexport default RemoveBtn;","map":{"version":3,"sources":["/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/comp/Tasks/TaskItem/RemoveBtn/RemoveBtn.js"],"names":["React","classes","BASE_URL","FontAwesomeIcon","task_api","handle401","RemoveBtn","props","stopTask","path","task_name","komax","token","window","localStorage","getItem","req","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","alert","deleteTask","delete","isMaster","role","toString","toLowerCase","delBtn","btn","stopBtn","status"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAAQC,eAAR,QAA8B,gCAA9B;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;;AACA,IAAIC,SAAS,GAAIC,KAAD,IAAW;AACvB,MAAIC,QAAQ,GAAG,MAAM;AACjB,QAAIC,IAAI,GAAGP,QAAQ,GAAG,SAAX,GAAuBK,KAAK,CAACG,SAA7B,GAAyC,OAAzC,IAAoDH,KAAK,CAACI,KAAN,GAAc,MAAMJ,KAAK,CAACI,KAAZ,GAAoB,GAAlC,GAAwC,EAA5F,CAAX;AACA,QAAIC,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ;AACA,QAAIC,GAAG,GAAG,IAAIC,cAAJ,EAAV;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiBT,IAAjB;AACAO,IAAAA,GAAG,CAACG,gBAAJ,CAAqB,eAArB,EAAuC,SAAQP,KAAM,EAArD;AACAI,IAAAA,GAAG,CAACI,IAAJ,CAASC,IAAI,CAACC,SAAL,CAAe;AACpBZ,MAAAA,SAAS,EAAGH,KAAK,CAACG;AADE,KAAf,CAAT;AAGAM,IAAAA,GAAG,CAACO,MAAJ,GAAaC,KAAK,CAAC,aAAajB,KAAK,CAACG,SAAnB,GAA+B,0BAAhC,CAAlB;AACH,GAVD;;AAYA,MAAIe,UAAU,GAAG,MAAM;AACnBlB,IAAAA,KAAK,CAACmB,MAAN,CAAanB,KAAb;AACH,GAFD;;AAIA,MAAIoB,QAAQ,GAAGpB,KAAK,CAACqB,IAAN,CAAWC,QAAX,GAAsBC,WAAtB,OAAwC,QAAvD;AAEA,MAAIC,MAAM,gBAAI;AAAQ,IAAA,SAAS,EAAE9B,OAAO,CAAC+B,GAA3B;AAAgC,IAAA,OAAO,EAAEP,UAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACM,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE,CAAC,KAAD,EAAQ,WAAR,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADN,CAAd;AAGA,MAAIQ,OAAO,gBAAI;AAAQ,IAAA,SAAS,EAAEhC,OAAO,CAAC+B,GAA3B;AAAgC,IAAA,OAAO,EAAExB,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK,oBAAC,eAAD;AAAiB,IAAA,IAAI,EAAE,CAAC,KAAD,EAAQ,MAAR,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADL,CAAf;AAGA,sBACI,0CAEQD,KAAK,CAAC2B,MAAN,KAAiB,CAAjB,GACMH,MADN,GAEMxB,KAAK,CAAC2B,MAAN,KAAiB,CAAjB,IAAsB3B,KAAK,CAAC2B,MAAN,KAAiB,CAAvC,GACID,OADJ,GAEIF,MANlB,CADJ;AAWH,CApCD;;AAsCA,eAAezB,SAAf","sourcesContent":["import React from \"react\";\nimport classes from \"./RemoveBtn.module.css\";\nimport BASE_URL from \"../../../../DAL/getBaseUrl\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport task_api from \"../../../../DAL/task/task_api\";\nimport handle401 from \"../../../../reducers/handle401\";\nlet RemoveBtn = (props) => {\n    let stopTask = () => {\n        let path = BASE_URL + \"api/v1/\" + props.task_name + \"/stop\" + (props.komax ? \"/\" + props.komax + \"/\" : \"\");\n        let token = window.localStorage.getItem('token');\n        let req = new XMLHttpRequest();\n        req.open('POST', path);\n        req.setRequestHeader(\"Authorization\", `Token ${token}`);\n        req.send(JSON.stringify({\n            task_name : props.task_name\n        }));\n        req.onload = alert(\"Задание \" + props.task_name + \" скоро будет остановлено\");\n    }\n\n    let deleteTask = () => {\n        props.delete(props);\n    }\n\n    let isMaster = props.role.toString().toLowerCase() === \"master\";\n\n    let delBtn = (<button className={classes.btn} onClick={deleteTask}>\n                        <FontAwesomeIcon icon={['fas', 'trash-alt']}/>\n                    </button>);\n    let stopBtn = (<button className={classes.btn} onClick={stopTask}>\n                        <FontAwesomeIcon icon={['fas', 'stop']}/>\n                    </button>);\n    return (\n        <>\n            {\n                props.status === 1\n                    ? delBtn\n                    : props.status === 2 || props.status === 3\n                        ? stopBtn\n                        : delBtn\n            }\n        </>\n    )\n}\n\nexport default RemoveBtn;"]},"metadata":{},"sourceType":"module"}