{"ast":null,"code":"import komax_seal_api from \"../DAL/komax_seal/komax_seal_api\";\nimport handle401 from \"./handle401\";\nimport { logoutThunk } from \"./authReducer\";\nconst initialState = {\n  isFetching: false,\n  sealsList: []\n};\nconst TOGGLE_FETCHING = \"SEAL/TOGGLE_FETCHING\";\nconst SET_LIST = \"SEAL/TOGGLE_SET_LIST\";\n\nconst sealReducer = (state = initialState, action) => {\n  let stateCopy = { ...state\n  };\n\n  switch (action.type) {\n    case TOGGLE_FETCHING:\n      {\n        stateCopy.isFetching = !stateCopy.isFetching;\n        break;\n      }\n\n    case SET_LIST:\n      {\n        stateCopy.sealsList = action.list;\n        break;\n      }\n  }\n\n  return stateCopy;\n};\n\nconst toggleFetchAC = () => {\n  return {\n    type: TOGGLE_FETCHING\n  };\n};\n\nconst setListAC = list => {\n  return {\n    type: SET_LIST,\n    list: list\n  };\n};\n\nconst getSealsListThunk = () => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    komax_seal_api.getSealsList().then(data => {\n      dispatch(setListAC(data));\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      handle401(err, dispatch);\n    });\n  };\n};\n\nconst updateSealThunk = seal => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    komax_seal_api.updateSeal(seal).then(data => {\n      dispatch(getSealsListThunk());\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      dispatch(logoutThunk());\n    });\n  };\n};\n\nconst createSealThunk = seal => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    komax_seal_api.createSeal(seal).then(data => {\n      dispatch(getSealsListThunk());\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      handle401(err, dispatch);\n    });\n  };\n};\n\nconst deleteSealThunk = seal => {\n  return dispatch => {\n    dispatch(toggleFetchAC());\n    komax_seal_api.deleteSeal(seal).then(data => {\n      dispatch(getSealsListThunk());\n      dispatch(toggleFetchAC());\n    }).catch(err => {\n      handle401(err, dispatch);\n    });\n  };\n};\n\nexport { getSealsListThunk, updateSealThunk, sealReducer, createSealThunk, deleteSealThunk };","map":{"version":3,"sources":["/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/reducers/sealReducer.js"],"names":["komax_seal_api","handle401","logoutThunk","initialState","isFetching","sealsList","TOGGLE_FETCHING","SET_LIST","sealReducer","state","action","stateCopy","type","list","toggleFetchAC","setListAC","getSealsListThunk","dispatch","getSealsList","then","data","catch","err","updateSealThunk","seal","updateSeal","createSealThunk","createSeal","deleteSealThunk","deleteSeal"],"mappings":"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","sourcesContent":["import komax_seal_api from \"../DAL/komax_seal/komax_seal_api\";\nimport handle401 from \"./handle401\";\nimport {logoutThunk} from \"./authReducer\";\n\nconst initialState = {\n    isFetching : false,\n    sealsList : []\n}\n\nconst TOGGLE_FETCHING = \"SEAL/TOGGLE_FETCHING\";\nconst SET_LIST = \"SEAL/TOGGLE_SET_LIST\";\n\nconst sealReducer = (state = initialState, action) => {\n    let stateCopy = {...state};\n    switch (action.type) {\n        case TOGGLE_FETCHING : {\n            stateCopy.isFetching = !stateCopy.isFetching;\n            break;\n        }\n\n        case SET_LIST : {\n            stateCopy.sealsList = action.list;\n            break;\n        }\n    }\n    return stateCopy;\n}\n\nconst toggleFetchAC = () => {\n    return {\n        type : TOGGLE_FETCHING\n    }\n}\n\nconst setListAC = (list) => {\n    return {\n        type : SET_LIST,\n        list : list\n    }\n}\n\nconst getSealsListThunk = () => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.getSealsList()\n            .then((data) => {\n                dispatch(setListAC(data));\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nconst updateSealThunk = (seal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.updateSeal(seal)\n            .then((data) => {\n                dispatch(getSealsListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                dispatch(logoutThunk())\n            })\n    }\n}\n\nconst createSealThunk = (seal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.createSeal(seal)\n            .then((data) => {\n                dispatch(getSealsListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nconst deleteSealThunk = (seal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_seal_api.deleteSeal(seal)\n            .then((data) => {\n                dispatch(getSealsListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            });\n    }\n}\n\nexport {getSealsListThunk, updateSealThunk, sealReducer, createSealThunk, deleteSealThunk}"]},"metadata":{},"sourceType":"module"}