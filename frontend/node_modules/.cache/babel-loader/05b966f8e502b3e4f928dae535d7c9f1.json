{"ast":null,"code":"import classes from\"./Harnesses.module.css\";import React from\"react\";import HarnessesChooseTable from\"./HarnessesTables/HarnessesChooseTable/HarnessesChooseTable\";import SuccessButton from\"../common/SuccessButton/SuccessButton\";import{FormattedMessage}from\"react-intl\";import BASE_URL from\"../../DAL/getBaseUrl\";var Harnesses=function Harnesses(props){var send=function send(e){e.preventDefault();var req=new XMLHttpRequest();var data=new FormData(document.getElementById(\"form\"));var token=window.localStorage.getItem('token');req.open('POST',BASE_URL+'api/v1/harnesses/');req.setRequestHeader(\"Authorization\",\"Token \".concat(token));req.send(data);req.onload=function(){props.fetch();};};var fileAttach=function fileAttach(e){alert(\"Файл \"+e.target.files[0].name+\" прикреплен\");};return/*#__PURE__*/React.createElement(\"main\",{className:classes.container},/*#__PURE__*/React.createElement(\"div\",{className:classes.card},/*#__PURE__*/React.createElement(\"div\",{className:classes.addHarness},/*#__PURE__*/React.createElement(\"form\",{className:classes.form,method:\"post\",action:BASE_URL+\"api/v1/harnesses/\",encType:\"multipart/form-data\",id:\"form\"},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"harness_number\",id:\"harness_number\",placeholder:\"Harness number\",className:classes.input,required:true})),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",name:\"harness_chart\",id:\"harness_chart\",className:classes.file,required:true,onChange:fileAttach}),/*#__PURE__*/React.createElement(SuccessButton,{value:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"add_button_text\"}),click:send}))),/*#__PURE__*/React.createElement(HarnessesChooseTable,{role:props.role,items:props.harnesses})),/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(classes.card,\" \").concat(classes.tableWrapper)},props.selectedTable?/*#__PURE__*/React.createElement(React.Fragment,null,props.selectedTable):/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(FormattedMessage,{id:\"harnesses.choose_terminal\"}))));};export default Harnesses;","map":{"version":3,"sources":["/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/src/comp/Harnesses/Harnesses.js"],"names":["classes","React","HarnessesChooseTable","SuccessButton","FormattedMessage","BASE_URL","Harnesses","props","send","e","preventDefault","req","XMLHttpRequest","data","FormData","document","getElementById","token","window","localStorage","getItem","open","setRequestHeader","onload","fetch","fileAttach","alert","target","files","name","container","card","addHarness","form","input","file","role","harnesses","tableWrapper","selectedTable"],"mappings":"AAAA,MAAOA,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,oBAAP,KAAiC,6DAAjC,CACA,MAAOC,CAAAA,aAAP,KAA0B,uCAA1B,CACA,OAAQC,gBAAR,KAA+B,YAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,GAAIC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CACvB,GAAIC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAO,CACdA,CAAC,CAACC,cAAF,GACA,GAAIC,CAAAA,GAAG,CAAG,GAAIC,CAAAA,cAAJ,EAAV,CACA,GAAIC,CAAAA,IAAI,CAAG,GAAIC,CAAAA,QAAJ,CAAaC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb,CAAX,CACA,GAAIC,CAAAA,KAAK,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ,CACAT,GAAG,CAACU,IAAJ,CAAS,MAAT,CAAiBhB,QAAQ,CAAG,mBAA5B,EACAM,GAAG,CAACW,gBAAJ,CAAqB,eAArB,iBAA+CL,KAA/C,GACAN,GAAG,CAACH,IAAJ,CAASK,IAAT,EACAF,GAAG,CAACY,MAAJ,CAAa,UAAM,CACfhB,KAAK,CAACiB,KAAN,GACH,CAFD,CAGH,CAXD,CAaA,GAAIC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAChB,CAAD,CAAO,CACpBiB,KAAK,CAAC,QAAUjB,CAAC,CAACkB,MAAF,CAASC,KAAT,CAAe,CAAf,EAAkBC,IAA5B,CAAmC,aAApC,CAAL,CACH,CAFD,CAGA,mBACI,4BAAM,SAAS,CAAE7B,OAAO,CAAC8B,SAAzB,eACI,2BAAK,SAAS,CAAE9B,OAAO,CAAC+B,IAAxB,eACI,2BAAK,SAAS,CAAE/B,OAAO,CAACgC,UAAxB,eACI,4BAAM,SAAS,CAAEhC,OAAO,CAACiC,IAAzB,CAA+B,MAAM,CAAE,MAAvC,CAA+C,MAAM,CAAE5B,QAAQ,CAAE,mBAAjE,CAAsF,OAAO,CAAE,qBAA/F,CAAsH,EAAE,CAAE,MAA1H,eACI,8CACI,6BAAO,IAAI,CAAE,MAAb,CAAqB,IAAI,CAAE,gBAA3B,CAA6C,EAAE,CAAE,gBAAjD,CAAmE,WAAW,CAAE,gBAAhF,CAAkG,SAAS,CAAEL,OAAO,CAACkC,KAArH,CAA4H,QAAQ,KAApI,EADJ,CADJ,cAII,6BAAO,IAAI,CAAE,MAAb,CAAqB,IAAI,CAAE,eAA3B,CAA4C,EAAE,CAAE,eAAhD,CAAiE,SAAS,CAAElC,OAAO,CAACmC,IAApF,CAA0F,QAAQ,KAAlG,CAAmG,QAAQ,CAAEV,UAA7G,EAJJ,cAKI,oBAAC,aAAD,EAAe,KAAK,cAAE,oBAAC,gBAAD,EAAkB,EAAE,CAAE,iBAAtB,EAAtB,CAAkE,KAAK,CAAEjB,IAAzE,EALJ,CADJ,CADJ,cAUI,oBAAC,oBAAD,EAAsB,IAAI,CAAED,KAAK,CAAC6B,IAAlC,CAAwC,KAAK,CAAE7B,KAAK,CAAC8B,SAArD,EAVJ,CADJ,cAaI,2BAAK,SAAS,WAAKrC,OAAO,CAAC+B,IAAb,aAAqB/B,OAAO,CAACsC,YAA7B,CAAd,EACK/B,KAAK,CAACgC,aAAN,cACK,wCAAGhC,KAAK,CAACgC,aAAT,CADL,cAEK,qDACE,oBAAC,gBAAD,EAAkB,EAAE,CAAE,2BAAtB,EADF,CAHV,CAbJ,CADJ,CAwBH,CAzCD,CA2CA,cAAejC,CAAAA,SAAf","sourcesContent":["import classes from \"./Harnesses.module.css\"\nimport React from \"react\";\nimport HarnessesChooseTable from \"./HarnessesTables/HarnessesChooseTable/HarnessesChooseTable\";\nimport SuccessButton from \"../common/SuccessButton/SuccessButton\";\nimport {FormattedMessage} from \"react-intl\";\nimport BASE_URL from \"../../DAL/getBaseUrl\";\nlet Harnesses = (props) => {\n    let send = (e) => {\n        e.preventDefault();\n        let req = new XMLHttpRequest();\n        let data = new FormData(document.getElementById(\"form\"));\n        let token = window.localStorage.getItem('token');\n        req.open('POST', BASE_URL + 'api/v1/harnesses/');\n        req.setRequestHeader(\"Authorization\", `Token ${token}`);\n        req.send(data);\n        req.onload = () => {\n            props.fetch();\n        }\n    }\n\n    let fileAttach = (e) => {\n        alert(\"Файл \" + e.target.files[0].name + \" прикреплен\");\n    }\n    return(\n        <main className={classes.container}>\n            <div className={classes.card}>\n                <div className={classes.addHarness}>\n                    <form className={classes.form} method={\"post\"} action={BASE_URL +\"api/v1/harnesses/\"} encType={\"multipart/form-data\"} id={\"form\"}>\n                        <label>\n                            <input type={\"text\"} name={\"harness_number\"} id={\"harness_number\"} placeholder={\"Harness number\"} className={classes.input} required/>\n                        </label>\n                        <input type={\"file\"} name={\"harness_chart\"} id={\"harness_chart\"} className={classes.file} required onChange={fileAttach}/>\n                        <SuccessButton value={<FormattedMessage id={\"add_button_text\"}/>} click={send}/>\n                    </form>\n                </div>\n                <HarnessesChooseTable role={props.role} items={props.harnesses}/>\n            </div>\n            <div className={`${classes.card} ${classes.tableWrapper}`}>\n                {props.selectedTable\n                    ? <>{props.selectedTable}</>\n                    : <>\n                        <FormattedMessage id={\"harnesses.choose_terminal\"}/>\n                      </>\n                }\n            </div>\n        </main>\n    );\n}\n\nexport default Harnesses;"]},"metadata":{},"sourceType":"module"}