{"ast":null,"code":"import _slicedToArray from\"/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import StartPage from\"./StartPage\";import React,{useEffect,useState}from\"react\";import auth from\"../AuthHOC/authHOC\";import ava from\"../../assets/images/ava.png\";import Modal from'react-modal';import{connect}from\"react-redux\";import LoginSelector from\"../../selectors/loginSelector\";import{chooseKomaxThunk}from\"../../reducers/authReducer\";import ChooseModalContainer from\"./Modal/ChooseModalContainer\";import KomaxSelector from\"../../selectors/komaxSelector\";import{getListThunk}from\"../../reducers/komaxReducer\";import SaveButton from\"../common/SaveButton/SaveButton\";import classes from\"./StartPage.module.css\";import{FormattedMessage}from\"react-intl\";var StartPageContainer=function StartPageContainer(props){useEffect(function(){props.fetchKomaxes();},[props.komaxList.length]);var customStyles={content:{top:'25%',left:'60%',transform:'translate(-70%, -20%)'}};var user={username:props.login,role:props.role};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSettingsOpen=_useState4[0],setSettingsOpen=_useState4[1];var openModal=function openModal(){setOpen(true);};var closeModal=function closeModal(){setOpen(false);};var openSettings=function openSettings(){setSettingsOpen(true);};var closeSettings=function closeSettings(){setSettingsOpen(false);};if(props.role.toString().toLocaleLowerCase()===\"operator\"&&props.komax===\"\"&&!isOpen)openModal();return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(StartPage,Object.assign({},user,{ava:ava,open:openSettings},props)),/*#__PURE__*/React.createElement(Modal,{isOpen:isOpen,style:customStyles,contentLabel:\"Example Modal\"},/*#__PURE__*/React.createElement(ChooseModalContainer,{komaxList:props.komaxList,close:closeModal,komax:props.komax})),/*#__PURE__*/React.createElement(Modal,{isOpen:isSettingsOpen,style:customStyles,onRequestClose:closeSettings,contentLabel:\"Example Modal\"},/*#__PURE__*/React.createElement(\"div\",{className:classes.choose_form},/*#__PURE__*/React.createElement(\"div\",{className:classes.choose_heading},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"choose_avatar_label\"})),/*#__PURE__*/React.createElement(\"div\",{className:classes.ava_block},/*#__PURE__*/React.createElement(\"img\",{src:ava,alt:\"Avatar\",className:classes.choose_ava}),/*#__PURE__*/React.createElement(\"input\",{type:\"file\",className:classes.input})),/*#__PURE__*/React.createElement(\"div\",{className:classes.btns},/*#__PURE__*/React.createElement(SaveButton,{value:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"save_button_label\"})}),/*#__PURE__*/React.createElement(\"button\",{className:classes.close_btn,onClick:closeSettings},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"close_label\"}))))));};var mapStateToProps=function mapStateToProps(state){return{login:LoginSelector.getLogin(state),role:LoginSelector.getRole(state),komax:LoginSelector.getKomax(state),komaxList:KomaxSelector.getList(state)};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{choose:function choose(login,number){dispatch(chooseKomaxThunk(login,number));},fetchKomaxes:function fetchKomaxes(){dispatch(getListThunk());}};};export default auth(connect(mapStateToProps,mapDispatchToProps)(StartPageContainer));","map":{"version":3,"sources":["/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/comp/Start/StartPageContainer.js"],"names":["StartPage","React","useEffect","useState","auth","ava","Modal","connect","LoginSelector","chooseKomaxThunk","ChooseModalContainer","KomaxSelector","getListThunk","SaveButton","classes","FormattedMessage","StartPageContainer","props","fetchKomaxes","komaxList","length","customStyles","content","top","left","transform","user","username","login","role","isOpen","setOpen","isSettingsOpen","setSettingsOpen","openModal","closeModal","openSettings","closeSettings","toString","toLocaleLowerCase","komax","choose_form","choose_heading","ava_block","choose_ava","input","btns","close_btn","mapStateToProps","state","getLogin","getRole","getKomax","getList","mapDispatchToProps","dispatch","choose","number"],"mappings":"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","sourcesContent":["import StartPage from \"./StartPage\";\nimport React, {useEffect, useState} from \"react\";\nimport auth from \"../AuthHOC/authHOC\";\nimport ava from \"../../assets/images/ava.png\"\nimport Modal from 'react-modal';\nimport {connect} from \"react-redux\";\nimport LoginSelector from \"../../selectors/loginSelector\";\nimport {chooseKomaxThunk} from \"../../reducers/authReducer\";\nimport ChooseModalContainer from \"./Modal/ChooseModalContainer\";\nimport KomaxSelector from \"../../selectors/komaxSelector\";\nimport {getListThunk} from \"../../reducers/komaxReducer\";\nimport SaveButton from \"../common/SaveButton/SaveButton\";\nimport classes from \"./StartPage.module.css\"\nimport {FormattedMessage} from \"react-intl\";\n\nlet StartPageContainer = (props) => {\n    useEffect(() => {\n        props.fetchKomaxes();\n    }, [props.komaxList.length])\n\n    const customStyles = {\n      content : {\n        top                   : '25%',\n        left                  : '60%',\n        transform             : 'translate(-70%, -20%)'\n      }\n    };\n\n    let user = {\n        username : props.login,\n        role : props.role\n    }\n\n    const [isOpen, setOpen] = useState(false);\n    const [isSettingsOpen, setSettingsOpen] = useState(false);\n\n    let openModal = () => {\n        setOpen(true);\n    }\n\n    let closeModal = () => {\n        setOpen(false);\n    }\n\n    let openSettings = () => {\n        setSettingsOpen(true);\n    }\n\n    let closeSettings = () => {\n        setSettingsOpen(false);\n    }\n\n    if (props.role.toString().toLocaleLowerCase() === \"operator\" && props.komax === \"\" && !isOpen) openModal();\n\n    return(\n        <>\n            <StartPage {...user} ava={ava} open={openSettings} {...props}/>\n            <Modal\n              isOpen={isOpen}\n              style={customStyles}\n              contentLabel=\"Example Modal\"\n            >\n                <ChooseModalContainer komaxList={props.komaxList} close={closeModal} komax={props.komax}/>\n            </Modal>\n            <Modal\n              isOpen={isSettingsOpen}\n              style={customStyles}\n              onRequestClose={closeSettings}\n              contentLabel=\"Example Modal\"\n            >\n                <div className={classes.choose_form}>\n                    <div className={classes.choose_heading}>\n                        <FormattedMessage id={\"choose_avatar_label\"}/>\n                    </div>\n                    <div className={classes.ava_block}>\n                        <img src={ava} alt={\"Avatar\"} className={classes.choose_ava}/>\n                        <input type={\"file\"} className={classes.input}/>\n                    </div>\n                    <div className={classes.btns}>\n                        <SaveButton value={<FormattedMessage id={\"save_button_label\"}/>}/>\n                        <button className={classes.close_btn} onClick={closeSettings}><FormattedMessage id={\"close_label\"}/></button>\n                    </div>\n                </div>\n            </Modal>\n        </>\n    )\n}\n\nlet mapStateToProps = (state) => {\n    return {\n        login : LoginSelector.getLogin(state),\n        role : LoginSelector.getRole(state),\n        komax : LoginSelector.getKomax(state),\n        komaxList : KomaxSelector.getList(state),\n    }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        choose : (login, number) => {\n            dispatch(chooseKomaxThunk(login, number))\n        },\n\n        fetchKomaxes : () => {\n            dispatch(getListThunk())\n        }\n    }\n}\n\nexport default auth(connect(mapStateToProps, mapDispatchToProps)(StartPageContainer));"]},"metadata":{},"sourceType":"module"}