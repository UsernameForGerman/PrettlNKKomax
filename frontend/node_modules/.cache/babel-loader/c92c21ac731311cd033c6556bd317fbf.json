{"ast":null,"code":"var _jsxFileName = \"/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/comp/Harnesses/Harnesses.js\";\nimport classes from \"./Harnesses.module.css\";\nimport React from \"react\";\nimport HarnessesChooseTable from \"./HarnessesTables/HarnessesChooseTable/HarnessesChooseTable\";\nimport SuccessButton from \"../common/SuccessButton/SuccessButton\";\nimport { FormattedMessage } from \"react-intl\";\nimport BASE_URL from \"../../DAL/getBaseUrl\";\n\nlet Harnesses = props => {\n  let send = e => {\n    e.preventDefault();\n    let req = new XMLHttpRequest();\n    let data = new FormData(document.getElementById(\"form\"));\n    let token = window.localStorage.getItem('token');\n    req.open('POST', BASE_URL + 'api/v1/harnesses/');\n    req.setRequestHeader(\"Authorization\", `Token ${token}`);\n    req.send(data);\n\n    req.onload = () => {\n      props.fetch();\n    };\n  };\n\n  let fileAttach = e => {\n    alert(\"Файл \" + e.target.files[0].name + \" прикреплен\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: classes.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.card,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.addHarness,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: classes.form,\n    method: \"post\",\n    action: BASE_URL + \"api/v1/harnesses/\",\n    encType: \"multipart/form-data\",\n    id: \"form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"harness_number\",\n    id: \"harness_number\",\n    placeholder: \"Harness number\",\n    className: classes.input,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    name: \"harness_chart\",\n    id: \"harness_chart\",\n    className: classes.file,\n    required: true,\n    onChange: fileAttach,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(SuccessButton, {\n    value: /*#__PURE__*/React.createElement(FormattedMessage, {\n      id: \"add_button_text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 47\n      }\n    }),\n    click: send,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(HarnessesChooseTable, {\n    role: props.role,\n    items: props.harnesses,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${classes.card} ${classes.tableWrapper}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, props.selectedTable ? /*#__PURE__*/React.createElement(React.Fragment, null, props.selectedTable) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FormattedMessage, {\n    id: \"harnesses.choose_terminal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }))));\n};\n\nexport default Harnesses;","map":{"version":3,"sources":["/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/comp/Harnesses/Harnesses.js"],"names":["classes","React","HarnessesChooseTable","SuccessButton","FormattedMessage","BASE_URL","Harnesses","props","send","e","preventDefault","req","XMLHttpRequest","data","FormData","document","getElementById","token","window","localStorage","getItem","open","setRequestHeader","onload","fetch","fileAttach","alert","target","files","name","container","card","addHarness","form","input","file","role","harnesses","tableWrapper","selectedTable"],"mappings":"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","sourcesContent":["import classes from \"./Harnesses.module.css\"\nimport React from \"react\";\nimport HarnessesChooseTable from \"./HarnessesTables/HarnessesChooseTable/HarnessesChooseTable\";\nimport SuccessButton from \"../common/SuccessButton/SuccessButton\";\nimport {FormattedMessage} from \"react-intl\";\nimport BASE_URL from \"../../DAL/getBaseUrl\";\nlet Harnesses = (props) => {\n    let send = (e) => {\n        e.preventDefault();\n        let req = new XMLHttpRequest();\n        let data = new FormData(document.getElementById(\"form\"));\n        let token = window.localStorage.getItem('token');\n        req.open('POST', BASE_URL + 'api/v1/harnesses/');\n        req.setRequestHeader(\"Authorization\", `Token ${token}`);\n        req.send(data);\n        req.onload = () => {\n            props.fetch();\n        }\n    }\n\n    let fileAttach = (e) => {\n        alert(\"Файл \" + e.target.files[0].name + \" прикреплен\");\n    }\n    return(\n        <main className={classes.container}>\n            <div className={classes.card}>\n                <div className={classes.addHarness}>\n                    <form className={classes.form} method={\"post\"} action={BASE_URL +\"api/v1/harnesses/\"} encType={\"multipart/form-data\"} id={\"form\"}>\n                        <label>\n                            <input type={\"text\"} name={\"harness_number\"} id={\"harness_number\"} placeholder={\"Harness number\"} className={classes.input} required/>\n                        </label>\n                        <input type={\"file\"} name={\"harness_chart\"} id={\"harness_chart\"} className={classes.file} required onChange={fileAttach}/>\n                        <SuccessButton value={<FormattedMessage id={\"add_button_text\"}/>} click={send}/>\n                    </form>\n                </div>\n                <HarnessesChooseTable role={props.role} items={props.harnesses}/>\n            </div>\n            <div className={`${classes.card} ${classes.tableWrapper}`}>\n                {props.selectedTable\n                    ? <>{props.selectedTable}</>\n                    : <>\n                        <FormattedMessage id={\"harnesses.choose_terminal\"}/>\n                      </>\n                }\n            </div>\n        </main>\n    );\n}\n\nexport default Harnesses;"]},"metadata":{},"sourceType":"module"}