{"ast":null,"code":"import _objectSpread from\"/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import komax_terminal_api from\"../DAL/komax_terminal/komax_terminal_api\";import handle401 from\"./handle401\";var initialState={isFetching:false,terminalsList:[]};var TOGGLE_FETCHING=\"TERMINAL/TOGGLE_FETCHING\";var SET_LIST=\"TERMINAL/TOGGLE_SET_LIST\";var komaxTerminalReducer=function komaxTerminalReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;var stateCopy=_objectSpread({},state);switch(action.type){case TOGGLE_FETCHING:{stateCopy.isFetching=!stateCopy.isFetching;break;}case SET_LIST:{stateCopy.terminalsList=action.list;break;}}return stateCopy;};var toggleFetchAC=function toggleFetchAC(){return{type:TOGGLE_FETCHING};};var setListAC=function setListAC(list){return{type:SET_LIST,list:list};};var getTerminalListThunk=function getTerminalListThunk(){return function(dispatch){dispatch(toggleFetchAC());komax_terminal_api.getTerminalList().then(function(data){dispatch(setListAC(data));dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};var createTerminalThunk=function createTerminalThunk(terminal){return function(dispatch){dispatch(toggleFetchAC());komax_terminal_api.createTerminal(terminal).then(function(data){dispatch(getTerminalListThunk());dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};var updateTerminalThunk=function updateTerminalThunk(terminal){return function(dispatch){dispatch(toggleFetchAC());komax_terminal_api.updateTerminal(terminal).then(function(data){dispatch(getTerminalListThunk());dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};var deleteTerminalThunk=function deleteTerminalThunk(terminal){return function(dispatch){dispatch(toggleFetchAC());komax_terminal_api.deleteTerminal(terminal).then(function(data){dispatch(getTerminalListThunk());dispatch(toggleFetchAC());}).catch(function(err){handle401(err,dispatch);});};};export{komaxTerminalReducer,updateTerminalThunk,getTerminalListThunk,createTerminalThunk,deleteTerminalThunk};","map":{"version":3,"sources":["/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/src/reducers/komaxTerminalReducer.js"],"names":["komax_terminal_api","handle401","initialState","isFetching","terminalsList","TOGGLE_FETCHING","SET_LIST","komaxTerminalReducer","state","action","stateCopy","type","list","toggleFetchAC","setListAC","getTerminalListThunk","dispatch","getTerminalList","then","data","catch","err","createTerminalThunk","terminal","createTerminal","updateTerminalThunk","updateTerminal","deleteTerminalThunk","deleteTerminal"],"mappings":"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","sourcesContent":["import komax_terminal_api from \"../DAL/komax_terminal/komax_terminal_api\";\nimport handle401 from \"./handle401\";\n\nconst initialState = {\n    isFetching : false,\n    terminalsList : []\n}\n\nconst TOGGLE_FETCHING = \"TERMINAL/TOGGLE_FETCHING\";\nconst SET_LIST = \"TERMINAL/TOGGLE_SET_LIST\";\n\nconst komaxTerminalReducer = (state = initialState, action) => {\n    let stateCopy = {...state};\n    switch (action.type) {\n        case TOGGLE_FETCHING : {\n            stateCopy.isFetching = !stateCopy.isFetching;\n            break;\n        }\n\n        case SET_LIST : {\n            stateCopy.terminalsList = action.list;\n            break;\n        }\n    }\n    return stateCopy;\n}\n\nconst toggleFetchAC = () => {\n    return {\n        type : TOGGLE_FETCHING\n    }\n}\n\nconst setListAC = (list) => {\n    return {\n        type : SET_LIST,\n        list : list\n    }\n}\n\nconst getTerminalListThunk = () => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_terminal_api.getTerminalList()\n            .then((data) => {\n                dispatch(setListAC(data));\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch)\n            });\n    }\n}\n\nconst createTerminalThunk = (terminal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_terminal_api.createTerminal(terminal)\n            .then((data) => {\n                dispatch(getTerminalListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch)\n            });\n    }\n}\n\nconst updateTerminalThunk = (terminal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_terminal_api.updateTerminal(terminal)\n            .then((data) => {\n                dispatch(getTerminalListThunk());\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch)\n            });\n    }\n}\n\nconst deleteTerminalThunk = (terminal) => {\n    return (dispatch) => {\n        dispatch(toggleFetchAC());\n        komax_terminal_api.deleteTerminal(terminal)\n            .then((data) => {\n                dispatch(getTerminalListThunk())\n                dispatch(toggleFetchAC());\n            })\n            .catch(err => {\n                handle401(err, dispatch);\n            })\n    }\n}\n\nexport {komaxTerminalReducer, updateTerminalThunk, getTerminalListThunk, createTerminalThunk, deleteTerminalThunk}"]},"metadata":{},"sourceType":"module"}