{"ast":null,"code":"import _slicedToArray from\"/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import classes from\"./Header.module.css\";import React,{useState}from\"react\";import{NavLink,Redirect}from\"react-router-dom\";import logo from\"../../assets/images/logo2.png\";import ListItem from\"@material-ui/core/ListItem\";import ListItemText from\"@material-ui/core/ListItemText\";import MenuIcon from'@material-ui/icons/Menu';import Drawer from\"@material-ui/core/Drawer\";import List from\"@material-ui/core/List\";import IconButton from\"@material-ui/core/IconButton\";import ListItemIcon from\"@material-ui/core/ListItemIcon\";import{Briefcase,Clock,Folder,GitCommit,Home,Settings}from\"react-feather\";import{FormattedMessage}from\"react-intl\";import get_pages from\"../AuthHOC/get_pages\";var Header=function Header(props){var availablePages=get_pages(props.role);var buttonsState=[{desc:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.start_link\"}),link:\"/account\"},{desc:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.tasks_link\"}),link:\"/tasks\"},{desc:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.harnesses_link\"}),link:\"/harnesses\"},{desc:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.komax_teminals_link\"}),link:\"/terminals\"},{desc:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.labour_inputs_link\"}),link:\"/labour\"},{desc:/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.komaxes_link\"}),link:\"/komaxes\"}].filter(function(page){var link=page.link.toString().substr(1);if(props.role===\"\")return true;return link===\"\"||availablePages.includes(link);}).map(function(elem){var icon=undefined;switch(elem.link){case\"/account\":{icon=/*#__PURE__*/React.createElement(Home,null);break;};case\"/harnesses\":{icon=/*#__PURE__*/React.createElement(Folder,null);break;};case\"/labour\":{icon=/*#__PURE__*/React.createElement(Clock,null);break;};case\"/tasks\":{icon=/*#__PURE__*/React.createElement(Briefcase,null);break;};case\"/terminals\":{icon=/*#__PURE__*/React.createElement(GitCommit,null);break;};case\"/komaxes\":{icon=/*#__PURE__*/React.createElement(Settings,null);break;};default:{icon=/*#__PURE__*/React.createElement(Settings,null);break;}}elem['icon']=icon;return elem;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setOpen=_useState2[1];var toggleDrawer=function toggleDrawer(e){setOpen(!isOpen);};var close=function close(e){setOpen(false);};var renderedLinkItems=buttonsState.map(function(elem,index){return/*#__PURE__*/React.createElement(NavLink,{to:elem.link,className:classes.link,key:index,activeClassName:classes.activeLink},/*#__PURE__*/React.createElement(ListItem,{button:true,key:elem.desc,onClick:toggleDrawer},/*#__PURE__*/React.createElement(ListItemIcon,null,elem.icon),/*#__PURE__*/React.createElement(ListItemText,{primary:elem.desc})));});var drawer=/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:classes.toolbar}),/*#__PURE__*/React.createElement(List,null,renderedLinkItems));return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Drawer,{ModalProps:{keepMounted:false// Better open performance on mobile.\n},anchor:\"left\",open:isOpen,onClose:close},drawer),/*#__PURE__*/React.createElement(\"div\",{className:classes.Header},/*#__PURE__*/React.createElement(\"div\",{className:classes.container},props.isLogged?/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"delete\",onMouseEnter:toggleDrawer,onClick:toggleDrawer},/*#__PURE__*/React.createElement(MenuIcon,null)):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}),/*#__PURE__*/React.createElement(\"div\",{className:classes.logoWrapper},/*#__PURE__*/React.createElement(NavLink,{to:\"/account\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,alt:\"logo\",className:classes.logo}))),/*#__PURE__*/React.createElement(\"button\",{onClick:props.toggleLocale,className:classes.localeBtn},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"header.locale_label\"})),props.isLogged?/*#__PURE__*/React.createElement(\"button\",{className:classes.logoutBtn,onClick:props.logout},/*#__PURE__*/React.createElement(FormattedMessage,{id:\"login.log_out_label\"})):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"}))),/*#__PURE__*/React.createElement(\"div\",{className:classes.spacing}));};export default Header;","map":{"version":3,"sources":["/home/german/PycharmProjects/komax_prettl/PrettlNKKomax/frontend/src/comp/Header/Header.js"],"names":["classes","React","useState","NavLink","Redirect","logo","ListItem","ListItemText","MenuIcon","Drawer","List","IconButton","ListItemIcon","Briefcase","Clock","Folder","GitCommit","Home","Settings","FormattedMessage","get_pages","Header","props","availablePages","role","buttonsState","desc","link","filter","page","toString","substr","includes","map","elem","icon","undefined","isOpen","setOpen","toggleDrawer","e","close","renderedLinkItems","index","activeLink","drawer","toolbar","keepMounted","container","isLogged","logoWrapper","toggleLocale","localeBtn","logoutBtn","logout","spacing"],"mappings":"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","sourcesContent":["import classes from \"./Header.module.css\"\nimport React, {useState} from \"react\";\nimport {NavLink, Redirect} from \"react-router-dom\";\nimport logo from \"../../assets/images/logo2.png\"\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\n\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport Drawer from \"@material-ui/core/Drawer\";\nimport List from \"@material-ui/core/List\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\n\nimport {Briefcase, Clock, Folder, GitCommit, Home, Settings} from \"react-feather\";\nimport {FormattedMessage} from \"react-intl\";\nimport get_pages from \"../AuthHOC/get_pages\";\n\nlet Header = (props) => {\n    let availablePages = get_pages(props.role);\n    let buttonsState = [\n        {\n          desc : <FormattedMessage id={\"header.start_link\"}/>,\n          link : \"/account\"\n        },\n        {\n          desc : <FormattedMessage id={\"header.tasks_link\"}/>,\n          link : \"/tasks\"\n        },\n        {\n          desc : <FormattedMessage id={\"header.harnesses_link\"}/>,\n          link : \"/harnesses\"\n        },\n        {\n          desc : <FormattedMessage id={\"header.komax_teminals_link\"}/>,\n          link : \"/terminals\"\n        },\n        {\n          desc : <FormattedMessage id={\"header.labour_inputs_link\"}/>,\n          link : \"/labour\"\n        },\n        {\n          desc : <FormattedMessage id={\"header.komaxes_link\"}/>,\n          link : \"/komaxes\"\n        },\n    ].filter(page => {\n        let link = page.link.toString().substr(1);\n        if (props.role === \"\") return true;\n        return link === \"\" || availablePages.includes(link);\n    }).map((elem) => {\n        let icon = undefined;\n        switch (elem.link) {\n            case \"/account\": {\n                icon = <Home/>;\n                break;\n            };\n            case \"/harnesses\":{\n                icon = <Folder/>;\n                break;\n            };\n            case \"/labour\":{\n                icon = <Clock/>;\n                break;\n            };\n            case \"/tasks\":{\n                icon = <Briefcase/>;\n                break;\n            };\n            case \"/terminals\":{\n                icon = <GitCommit/>;\n                break;\n            };\n            case \"/komaxes\":{\n                icon = <Settings/>;\n                break;\n            };\n            default : {\n                icon = <Settings/>;\n                break;\n            }\n        }\n        elem['icon'] = icon;\n        return elem;\n    });\n    let [isOpen, setOpen] = useState(false);\n    let toggleDrawer = (e) => {\n        setOpen(!isOpen);\n    }\n    let close = (e) => {\n        setOpen(false)\n    }\n\n    let renderedLinkItems = buttonsState.map((elem, index) => {\n        return(\n            <NavLink to={elem.link} className={classes.link} key={index} activeClassName={classes.activeLink}>\n                <ListItem button key={elem.desc} onClick={toggleDrawer}>\n                    <ListItemIcon>\n                        {elem.icon}\n                    </ListItemIcon>\n                    <ListItemText primary={elem.desc} />\n                </ListItem>\n            </NavLink>\n        );\n    });\n      const drawer = (\n        <div>\n          <div className={classes.toolbar} />\n          <List>\n              {renderedLinkItems}\n          </List>\n        </div>\n      );\n    return(\n        <>\n            <Drawer\n                ModalProps={{\n                  keepMounted: false, // Better open performance on mobile.\n                }}\n                anchor={\"left\"}\n                open={isOpen}\n                onClose={close}\n            >\n                {drawer}\n            </Drawer>\n            <div className={classes.Header}>\n                <div className={classes.container}>\n                    {props.isLogged\n                        ?   <IconButton aria-label=\"delete\" onMouseEnter={toggleDrawer} onClick={toggleDrawer}>\n                                <MenuIcon/>\n                            </IconButton>\n                        :   <Redirect to={\"/login\"}/>\n                    }\n                    <div className={classes.logoWrapper}>\n                        <NavLink to={\"/account\"}>\n                            <img src={logo} alt={\"logo\"} className={classes.logo}/>\n                        </NavLink>\n                    </div>\n                    <button onClick={props.toggleLocale} className={classes.localeBtn}>\n                        <FormattedMessage id={\"header.locale_label\"}/>\n                    </button>\n                    {props.isLogged\n                        ? <button className={classes.logoutBtn} onClick={props.logout}>\n                                <FormattedMessage id={\"login.log_out_label\"}/>\n                          </button>\n                        : <Redirect to={\"/login\"}/>\n                    }\n                </div>\n            </div>\n            <div className={classes.spacing}/>\n        </>\n    )\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}