{"ast":null,"code":"import React from\"react\";import classes from\"./RemoveBtn.module.css\";import BASE_URL from\"../../../../DAL/getBaseUrl\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import task_api from\"../../../../DAL/task/task_api\";import handle401 from\"../../../../reducers/handle401\";var RemoveBtn=function RemoveBtn(props){var stopTask=function stopTask(){var path=BASE_URL+\"api/v1/\"+props.task_name+\"/stop\"+(props.komax?\"/\"+props.komax+\"/\":\"\");var token=window.localStorage.getItem('token');var req=new XMLHttpRequest();req.open('POST',path);req.setRequestHeader(\"Authorization\",\"Token \".concat(token));req.send(JSON.stringify({task_name:props.task_name}));req.onload=alert(\"Задание \"+props.task_name+\" скоро будет остановлено\");};var deleteTask=function deleteTask(){props.delete(props);};var isMaster=props.role.toString().toLowerCase()===\"master\";var delBtn=/*#__PURE__*/React.createElement(\"button\",{className:classes.btn,onClick:deleteTask},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:['fas','trash-alt']}));var stopBtn=/*#__PURE__*/React.createElement(\"button\",{className:classes.btn,onClick:stopTask},/*#__PURE__*/React.createElement(FontAwesomeIcon,{icon:['fas','stop']}));return/*#__PURE__*/React.createElement(React.Fragment,null,props.status===1?delBtn:props.status===2||props.status===3?stopBtn:delBtn);};export default RemoveBtn;","map":{"version":3,"sources":["/home/whatruska/PycharmProjects/PrettlNKKomax/frontend/src/comp/Tasks/TaskItem/RemoveBtn/RemoveBtn.js"],"names":["React","classes","BASE_URL","FontAwesomeIcon","task_api","handle401","RemoveBtn","props","stopTask","path","task_name","komax","token","window","localStorage","getItem","req","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","onload","alert","deleteTask","delete","isMaster","role","toString","toLowerCase","delBtn","btn","stopBtn","status"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAAQC,eAAR,KAA8B,gCAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,+BAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gCAAtB,CACA,GAAIC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,KAAD,CAAW,CACvB,GAAIC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACjB,GAAIC,CAAAA,IAAI,CAAGP,QAAQ,CAAG,SAAX,CAAuBK,KAAK,CAACG,SAA7B,CAAyC,OAAzC,EAAoDH,KAAK,CAACI,KAAN,CAAc,IAAMJ,KAAK,CAACI,KAAZ,CAAoB,GAAlC,CAAwC,EAA5F,CAAX,CACA,GAAIC,CAAAA,KAAK,CAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAZ,CACA,GAAIC,CAAAA,GAAG,CAAG,GAAIC,CAAAA,cAAJ,EAAV,CACAD,GAAG,CAACE,IAAJ,CAAS,MAAT,CAAiBT,IAAjB,EACAO,GAAG,CAACG,gBAAJ,CAAqB,eAArB,iBAA+CP,KAA/C,GACAI,GAAG,CAACI,IAAJ,CAASC,IAAI,CAACC,SAAL,CAAe,CACpBZ,SAAS,CAAGH,KAAK,CAACG,SADE,CAAf,CAAT,EAGAM,GAAG,CAACO,MAAJ,CAAaC,KAAK,CAAC,WAAajB,KAAK,CAACG,SAAnB,CAA+B,0BAAhC,CAAlB,CACH,CAVD,CAYA,GAAIe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACnBlB,KAAK,CAACmB,MAAN,CAAanB,KAAb,EACH,CAFD,CAIA,GAAIoB,CAAAA,QAAQ,CAAGpB,KAAK,CAACqB,IAAN,CAAWC,QAAX,GAAsBC,WAAtB,KAAwC,QAAvD,CAEA,GAAIC,CAAAA,MAAM,cAAI,8BAAQ,SAAS,CAAE9B,OAAO,CAAC+B,GAA3B,CAAgC,OAAO,CAAEP,UAAzC,eACM,oBAAC,eAAD,EAAiB,IAAI,CAAE,CAAC,KAAD,CAAQ,WAAR,CAAvB,EADN,CAAd,CAGA,GAAIQ,CAAAA,OAAO,cAAI,8BAAQ,SAAS,CAAEhC,OAAO,CAAC+B,GAA3B,CAAgC,OAAO,CAAExB,QAAzC,eACK,oBAAC,eAAD,EAAiB,IAAI,CAAE,CAAC,KAAD,CAAQ,MAAR,CAAvB,EADL,CAAf,CAGA,mBACI,wCAEQD,KAAK,CAAC2B,MAAN,GAAiB,CAAjB,CACMH,MADN,CAEMxB,KAAK,CAAC2B,MAAN,GAAiB,CAAjB,EAAsB3B,KAAK,CAAC2B,MAAN,GAAiB,CAAvC,CACID,OADJ,CAEIF,MANlB,CADJ,CAWH,CApCD,CAsCA,cAAezB,CAAAA,SAAf","sourcesContent":["import React from \"react\";\nimport classes from \"./RemoveBtn.module.css\";\nimport BASE_URL from \"../../../../DAL/getBaseUrl\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport task_api from \"../../../../DAL/task/task_api\";\nimport handle401 from \"../../../../reducers/handle401\";\nlet RemoveBtn = (props) => {\n    let stopTask = () => {\n        let path = BASE_URL + \"api/v1/\" + props.task_name + \"/stop\" + (props.komax ? \"/\" + props.komax + \"/\" : \"\");\n        let token = window.localStorage.getItem('token');\n        let req = new XMLHttpRequest();\n        req.open('POST', path);\n        req.setRequestHeader(\"Authorization\", `Token ${token}`);\n        req.send(JSON.stringify({\n            task_name : props.task_name\n        }));\n        req.onload = alert(\"Задание \" + props.task_name + \" скоро будет остановлено\");\n    }\n\n    let deleteTask = () => {\n        props.delete(props);\n    }\n\n    let isMaster = props.role.toString().toLowerCase() === \"master\";\n\n    let delBtn = (<button className={classes.btn} onClick={deleteTask}>\n                        <FontAwesomeIcon icon={['fas', 'trash-alt']}/>\n                    </button>);\n    let stopBtn = (<button className={classes.btn} onClick={stopTask}>\n                        <FontAwesomeIcon icon={['fas', 'stop']}/>\n                    </button>);\n    return (\n        <>\n            {\n                props.status === 1\n                    ? delBtn\n                    : props.status === 2 || props.status === 3\n                        ? stopBtn\n                        : delBtn\n            }\n        </>\n    )\n}\n\nexport default RemoveBtn;"]},"metadata":{},"sourceType":"module"}